(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{44:function(e,t,a){},48:function(e,t,a){e.exports=a.p+"static/media/loader.144c7166.svg"},51:function(e,t,a){e.exports=a.p+"static/media/user.a9210b59.png"},55:function(e,t,a){e.exports=a(93)},64:function(e,t,a){},65:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),i=a.n(c),s=a(10),o=a(11),l=a(12),u=a(13),m=a(14),p=a(15),g=a(8),h=(a(64),a(65),a(46)),E=a.n(h),d=(a(66),a(68),E.a.initializeApp({apiKey:"AIzaSyBTzZDQhqsoGPPNvJo2A8ibUB3YqvT-kVU",authDomain:"test-project-8e370.firebaseapp.com",databaseURL:"https://test-project-8e370.firebaseio.com",projectId:"test-project-8e370",storageBucket:"test-project-8e370.appspot.com",messagingSenderId:"314126635978",appId:"1:314126635978:web:e989813a4d1807821e3533",measurementId:"G-1H88E6XQEF"})),f=(d.firestore(),function(e){return{type:"auth/LOGIN_SUCCESS",user:e}}),v=function(e,t){return function(a){a({type:"auth/LOGIN_REQUEST"}),d.auth().signInWithEmailAndPassword(e,t).then((function(e){a(f(e))})).catch((function(e){a({type:"auth/LOGIN_FAILURE"})}))}},b=function(){return function(e){e({type:"auth/LOGOUT_REQUEST"}),d.auth().signOut().then((function(){e({type:"auth/LOGOUT_SUCCESS"})})).catch((function(t){e({type:"auth/LOGOUT_FAILURE"})}))}},N=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){(0,e.props.dispatch)(b())},e.toggleMenu=function(){e.refs.mobileNav.sidenav()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.isAuth;return r.a.createElement("nav",{className:"nav-wrapper deep-purple darken-1 nav__bar"},r.a.createElement("div",{className:"container"},r.a.createElement(m.b,{to:"/",className:"brand-logo"},"My Test"),r.a.createElement("ul",{className:"right hide-on-med-and-down"},r.a.createElement("li",{className:"link__item"},r.a.createElement(m.b,{to:"/"},"To the main")),r.a.createElement("li",{className:"link__item"},r.a.createElement(m.b,{to:"/profile"},"Profile")),r.a.createElement("li",{className:"link__item"},r.a.createElement(m.b,{to:"/news"},"News")),e&&r.a.createElement("button",{className:"btn waves-effect waves-light pink lighten-1 z-depth-0",onClick:this.handleLogout},"Logout"))))}}]),a}(n.Component),w=Object(g.b)((function(e){return console.log(e),{isLoggingOut:e.auth.isLoggingOut,logoutError:e.auth.logoutError,isAuth:e.auth.isAuthenticated}}))(N),O=(a(72),function(){return r.a.createElement("div",{className:"container home-page"},r.a.createElement("div",{className:"welcome-text"},"Welcome to my Test App"))}),_=a(24),S=(a(73),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(_.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.props.dispatch,n=e.state,r=n.email,c=n.password;a(v(r,c))},e}return Object(o.a)(a,[{key:"render",value:function(){return this.props.isAuthenticated?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"login__container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"col s7"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{class:"material-icons prefix"},"email"),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",id:"email",name:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{class:"material-icons prefix"},"lock"),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"text",id:"password",name:"password",onChange:this.handleChange})),this.props.loginError&&r.a.createElement("div",{className:"pink-text text-darken-3"},"The email or password you entered is incorrect"),r.a.createElement("div",{className:"input-field button__container"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Login")))))}}]),a}(n.Component));var y=Object(g.b)((function(e){return{isLoggingIn:e.auth.isLoggingIn,loginError:e.auth.loginError,isAuthenticated:e.auth.isAuthenticated}}))(S),C=function(e){var t=new Date(e.publishedAt).toLocaleDateString();return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m5"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:e.urlToImage,alt:"news"})),r.a.createElement("div",{className:"card-action"},r.a.createElement("a",{href:e.url},"View page source")))),r.a.createElement("div",{className:"col s12 m7 card__content"},r.a.createElement("h4",{className:"card-title grey-text text-darken-3"},e.title),r.a.createElement("p",null,e.description),r.a.createElement("div",{className:"news__footer"},r.a.createElement("span",null,t),r.a.createElement("span",null,e.author))))},j=a(54),k=(a(74),function(e){for(var t=e.currentPage,a=e.onPageChanged,c=e.pageSize,i=e.portionSize,s=void 0===i?4:i,o=Math.ceil(20/c),l=[],u=1;u<=o;u++)l.push(u);var m=Math.ceil(o/s),p=Object(n.useState)(1),g=Object(j.a)(p,2),h=g[0],E=g[1],d=(h-1)*s+1,f=h*s;return r.a.createElement("ul",{className:"pagination"},h>1&&r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:"page-link",onClick:function(){E(h-1)}},"Previous")),l.filter((function(e){return e>=d&&e<=f})).map((function(e){return r.a.createElement("li",{className:"".concat(t===e?"active":"waves-effect"),key:e},r.a.createElement("a",{href:"#!",key:e,onClick:function(t){a(e)}}," ",e))})),m>h&&r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:"page-link",onClick:function(){E(h+1)}},"Next ")))}),T=a(48),L=a.n(T),A=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:L.a,alt:"spinner"}))},I=function(e){var t=e.isFetching,a=e.currentPage,n=e.onPageChanged,c=e.totalItemsCount,i=e.pageSize,s=e.news;return console.log(s),t?r.a.createElement("div",{className:"preloader__container"},r.a.createElement(A,null)):r.a.createElement("div",{className:"news__container"},r.a.createElement("div",{className:"paginator"},r.a.createElement(k,{currentPage:a,onPageChanged:n,totalItemsCount:c,pageSize:i})),r.a.createElement("div",{className:"newsItem"},s.map((function(e){return r.a.createElement(C,Object.assign({key:e.publishedAt},e))}))))},U=a(31),P=a.n(U),F=a(49),G=a(50),R="top-headlines?country=ua&top-headlines",x="1b94e1ac41824d27980d005f577c0d2a",z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return G.get("http://newsapi.org/v2/".concat(R,"&page=").concat(e,"&pageSize=").concat(t,"&apiKey=").concat(x)).then((function(e){return e.data}))},V=function(e){return{type:"news/SET_CURRENT_PAGE",currentPage:e}},Q=function(e){return{type:"news/TOGGLE_IS_FETCHING",isFetching:e}},D=(a(92),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getNewsThunk(t,e.props.pageSize)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,a=e.pageSize;this.props.getNewsThunk(t,a)}},{key:"render",value:function(){return r.a.createElement("div",{className:"news container"},r.a.createElement("div",{className:"row"},r.a.createElement(I,{className:"news__page",totalItemsCount:this.props.totalNewsCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,news:this.props.news,isFetching:this.props.isFetching})))}}]),a}(r.a.Component)),W=Object(g.b)((function(e){return{news:e.news.news,pageSize:e.news.pageSize,totalNewsCount:e.news.totalNewsCount,currentPage:e.news.currentPage,isFetching:e.news.isFetching}}),{setCurrentPage:V,getNewsThunk:function(e,t){return function(){var a=Object(F.a)(P.a.mark((function a(n){var r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Q(!0)),n(V(e)),a.next=5,z(e,t);case 5:r=a.sent,n(Q(!1)),n({type:"news/SET_NEWS",news:r.articles}),n({type:"news/SET_TOTAL_NEWS_COUNT",totalNewsCount:r.articles.length});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(D),M=(a(44),a(51)),Y=a.n(M),H={github:"https://github.com/vikos-ka",linkedin:"https://www.linkedin.com/in/vika-kaplunova-80920b199",facebook:"www.facebook.com/vika.vkaplunova"},q=function(e){var t=e.contactTitle,a=e.contactValue;return r.a.createElement("div",{className:"contact"},r.a.createElement("i",{className:"fab fa-".concat(t)}),r.a.createElement("span",null,t),": ",a)},B=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user__data"},r.a.createElement("span",null,"Full name: "),"Viktoria Kaplunova"),r.a.createElement("div",null,r.a.createElement("span",null,"About me: "),"Here should be some info"),r.a.createElement("div",null,r.a.createElement("span",null,"Contacts:"),Object.keys(H).map((function(e){return r.a.createElement(q,{className:"ml-6 contact",key:e,contactTitle:e,contactValue:H[e]})}))))},J=function(){return r.a.createElement("div",{className:"profile container"},r.a.createElement("div",{className:"user__page"},r.a.createElement("div",{className:"user__photo"},r.a.createElement("figure",null,r.a.createElement("img",{src:Y.a,alt:"avatar"}))),r.a.createElement("div",{className:"user__info"},r.a.createElement("h2",null,r.a.createElement("i",{className:"material-icons"},"info"),"About"),r.a.createElement(B,null))))},K=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(m.a,null,r.a.createElement("div",{className:"test__app"},r.a.createElement(w,{isAuth:this.props.isAuthenticated,logoutUser:b}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:O}),r.a.createElement(p.b,{path:"/login",component:y}),r.a.createElement(p.b,{path:"/news",component:W}),r.a.createElement(p.b,{path:"/profile",render:function(){return e.props.isAuthenticated?r.a.createElement(J,null):r.a.createElement(p.a,{to:"/login"})}}))))}}]),a}(r.a.Component);var X=Object(g.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,isVerifying:e.auth.isVerifying}}))(K),Z=a(17),$=a(52),ee=a(4),te=a(53),ae=Object(Z.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggingIn:!1,isLoggingOut:!1,isVerifying:!1,loginError:!1,logoutError:!1,isAuthenticated:!1,user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/LOGIN_REQUEST":return Object(ee.a)({},e,{isLoggingIn:!0,loginError:!1});case"auth/LOGIN_SUCCESS":return Object(ee.a)({},e,{isLoggingIn:!1,isAuthenticated:!0,user:t.user});case"auth/LOGIN_FAILURE":return Object(ee.a)({},e,{isLoggingIn:!1,isAuthenticated:!1,loginError:!0});case"auth/LOGOUT_REQUEST":return Object(ee.a)({},e,{isLoggingOut:!0,logoutError:!1});case"auth/LOGOUT_SUCCESS":return Object(ee.a)({},e,{isLoggingOut:!1,isAuthenticated:!1,user:{}});case"auth/LOGOUT_FAILURE":return Object(ee.a)({},e,{isLoggingOut:!1,logoutError:!0});case"auth/VERIFY_REQUEST":return Object(ee.a)({},e,{isVerifying:!0,verifyingError:!1});case"auth/VERIFY_SUCCESS":return Object(ee.a)({},e,{isVerifying:!1});default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageSize:6,totalNewsCount:0,currentPage:1,isFetching:!1,news:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"news/SET_NEWS":return Object(ee.a)({},e,{news:Object(te.a)(t.news)});case"news/SET_CURRENT_PAGE":return Object(ee.a)({},e,{currentPage:t.currentPage});case"news/SET_TOTAL_NEWS_COUNT":return Object(ee.a)({},e,{totalNewsCount:t.totalNewsCount});case"news/TOGGLE_IS_FETCHING":return Object(ee.a)({},e,{isFetching:t.isFetching});default:return e}}});var ne=function(e){var t=Object(Z.d)(ae,e,Object(Z.a)($.a));return t.dispatch((function(e){e({type:"auth/VERIFY_REQUEST"}),d.auth().onAuthStateChanged((function(t){null!==t&&e(f(t)),e({type:"auth/VERIFY_SUCCESS"})}))})),t}();i.a.render(r.a.createElement(g.a,{store:ne},r.a.createElement(X,null)),document.querySelector("#root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.5d749dab.chunk.js.map